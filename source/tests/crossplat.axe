
def cross_platform_func() {
    platform windows {
        parallel for mut val i = 0; i < 10; i++ {
            println i;
        }
    }
    platform posix {
        parallel for mut val i = 0; i < 10; i++ {
            println i;
        }
    }
}

platform windows {
    def some_function() {
        println "hi from windows!";
    }
}

platform posix {
    def some_function() {
        println "hi from posix!";
    }
}

main {
    cross_platform_func();
    some_function();
}